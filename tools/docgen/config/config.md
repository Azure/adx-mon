<!-- Generated by tools/docgen/config - DO NOT EDIT -->

# Collector Config

Collector is configured with a [TOML-formatted](https://toml.io/) file. In Kubernetes deployments, this is typically within a ConfigMap mounted into the collector pod. A default config can be generated by running `./collector config`.

{{- range .Sections }}
## {{ .Title }}

{{ .Description }}

```toml
{{ configToToml .Config }}
```
{{- end }}

## Metadata Watching

Metadata watching enables dynamic enrichment of metrics and logs with Kubernetes node metadata (labels, annotations) and other sources. This is configured using the `[metadata-watch]` and `[add-metadata-labels]` sections.

`[metadata-watch]` is a global declaration of the dynamic metadata observers the collector should run. Define it once at the root of the config; every watcher listed there is shared across the entire process.

`[add-metadata-labels]` blocks consume those watchers and can be declared in multiple scopes. Use the top-level block to apply metadata to every signal, and add scoped blocks (for example, `host-log.add-metadata-labels` or `prometheus-scrape.add-metadata-labels`) to override or extend the mappings for specific pipelines.

{{- range .MetadataSections }}
### {{ .Title }}

{{ .Description }}

```toml
{{ configToToml .Config }}
```
{{- end }}

## Exporters
Exporters are used to send telemetry to external systems in parallel with data sent to Azure Data Explorer. Exporters are per-source type (e.g. Metrics, Logs). Exporters are defined under the top level configuration key `[exporters]` within a key representing the exporter type (e.g. `[exporters.otlp-metric-export]`). They are referenced by their configured `name` in the relevant telemetry collection section.

{{- range .ExporterSections }}
### {{ .Title }}

{{ .Description }}

```toml
{{ configToToml .Config }}
```
{{- end }}
